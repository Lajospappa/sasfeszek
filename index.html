<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sasf√©szek t√∫ra 2026</title>
  <style>
    /* --- 1. GLOB√ÅLIS √âS H√ÅTT√âR BE√ÅLL√çT√ÅSOK --- */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      /* Am√≠g a k√©p t√∂lt, ez a sz√≠n√°tmenet l√°tszik (Alpok-k√©k/sz√ºrke) */
      background: #1a1c2c; 
      background: linear-gradient(135deg, #1a1c2c 0%, #4a5d71 100%);
      background-attachment: fixed;
      color: #fff;
      font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      scroll-behavior: smooth;
    }

    /* A fix√°lt h√°tt√©r r√©teg - PC-n √©s iOS-en is stabil villog√°s n√©lk√ºl */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      /* S√∂t√©t√≠tett r√©teg a k√©p felett az olvashat√≥s√°g√©rt */
      background: 
        linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)),
        url('assets/sasfeszekmotorral2026.png') center/cover no-repeat;
      z-index: -1;
      will-change: transform;
    }

    /* Safari iOS jav√≠t√°s a pontos magass√°ghoz */
    @supports (-webkit-touch-callout: none) {
      body::before { height: -webkit-fill-available; }
    }

    /* --- 2. ELRENDEZ√âS √âS KERETEK --- */
    .page {
      width: 100%;
      max-width: 1000px; /* PC-n nem engedi sz√©tfolyni a tartalmat */
      margin: 0 auto;
      padding: 20px;
      box-sizing: border-box;
    }

    .topbar {
      padding: 40px 0 20px 0;
      text-align: center;
    }

    .brand .title { 
      font-size: 2.5rem; 
      font-weight: 800; 
      text-transform: uppercase; 
      letter-spacing: 2px;
      margin: 0;
    }

    .brand .subtitle { 
      font-size: 1.1rem; 
      opacity: 0.8; 
      margin-top: 5px; 
    }

    .card.header-card {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: 20px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.1);
      margin-bottom: 30px;
      text-align: center;
    }

    /* --- 3. NAPI K√ÅRTY√ÅK ST√çLUSA --- */
    .poi.poi-withimg {
      display: flex;
      flex-direction: row;
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 16px;
      margin-bottom: 25px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.1);
      transition: all 0.3s ease;
    }

    /* PC-n kiemeli a k√°rty√°t, ha f√∂l√© viszed az egeret */
    @media (min-width: 769px) {
      .poi.poi-withimg:hover {
        transform: translateY(-5px);
        border-color: rgba(255,255,255,0.3);
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      }
    }

    .poi-left {
      flex: 1;
      padding: 25px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .poi-right {
      flex: 0 0 42%;
      min-height: 220px;
    }

    .poi-right img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .poi-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 8px; color: #ffca28; }
    .coords { font-size: 0.95rem; line-height: 1.4; opacity: 0.85; }
    .day-metrics { margin-top: 12px; font-weight: 600; color: #4caf50; font-size: 0.9rem; }

    /* Gombok */
    .poibtns { display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
    .btn {
      padding: 10px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-size: 0.85rem;
      font-weight: 600;
      color: #fff;
      display: inline-flex;
      align-items: center;
      transition: background 0.2s;
    }
    .btn-accent { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255,255,255,0.2); }
    .btn-blue { background: #1976d2; }
    .btn-calimoto { background: #d32f2f; }
    .btn-download { 
      background: #388e3c; 
      width: 100%; 
      justify-content: center; 
      margin-top: 8px;
      border: 1px solid rgba(255,255,255,0.1);
    }

    /* --- 4. MOBIL N√âZET --- */
    @media (max-width: 768px) {
      .page { padding: 15px; }
      .poi.poi-withimg { flex-direction: column-reverse; }
      .poi-right { flex: 0 0 180px; }
      .brand .title { font-size: 1.8rem; }
      .poi-left { padding: 20px; }
    }

    /* --- 5. T√âRK√âP SZEKCI√ì --- */
    .tourmap-card {
      background: rgba(0,0,0,0.6);
      padding: 20px;
      border-radius: 20px;
      margin-top: 30px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .tourmap-wrap {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }
    .tourmap-img { width: 100%; display: block; }
    .tourmap-me {
      position: absolute; width: 18px; height: 18px;
      background: #f44336; border: 2px solid #fff;
      border-radius: 50%; transform: translate(-50%, -50%);
      display: none; box-shadow: 0 0 10px rgba(0,0,0,0.8);
    }
  </style>
</head>
<body>

<div class="page">
  <header class="topbar">
    <div class="brand">
      <h1 class="title">Sasf√©szek t√∫ra</h1>
      <div class="subtitle">Motoros Kaland az Alpokban ‚Ä¢ 2026</div>
    </div>
  </header>

  <div class="card header-card">
    <div><strong>4 napos t√∫ra:</strong> 1169 km √©lm√©nymotoroz√°s, h√°g√≥k √©s t√∂rt√©nelmi helysz√≠nek.</div>
  </div>

  <div class="grid">
    <div class="poi poi-withimg">
      <div class="poi-left">
        <div class="poi-title">DAY 01 ‚Äì Bruck an der Mur</div>
        <div class="coords">Velence ‚Üí Bruck an der Mur. Tranzit szakasz a Dun√°nt√∫lon √©s Burgenlandon √°t az Alpok l√°b√°ig.</div>
        <div class="day-metrics">üìç 314 km | ‚ñ≤ 3328 m | ‚ñº 2959 m</div>
        <div class="poibtns">
          <a class="btn btn-accent" href="day01/index.html">üìã Lista n√©zet</a>
          <a class="btn btn-blue" href="https://www.google.com/maps/dir/Velence/Bruck+an+der+Mur" target="_blank">üó∫Ô∏è Navig√°ci√≥</a>
          <a class="btn btn-calimoto" href="https://calimoto.com/calimotour/sasf√©sz-1.-nap-r-UiYq0kGtee" target="_blank">üèçÔ∏è Calimoto</a>
          <a class="btn btn-download" href="Sasf√©szek 2026 POI pontok gpx/Sasf√©sz 1. nap (1).gpx" download>‚¨áÔ∏è GPX Let√∂lt√©s</a>
        </div>
      </div>
      <div class="poi-right">
        <img src="images/day01/01_somlo_tanuhegy.jpg" alt="Day 01">
      </div>
    </div>

    <div class="poi poi-withimg">
      <div class="poi-left">
        <div class="poi-title">DAY 02 ‚Äì H√°g√≥k √©s Tavak</div>
        <div class="coords">Bruck an der Mur ‚Üí K√∂nigssee. Alpesi panor√°ma utak, h√°g√≥k √©s Berchtesgaden t√©rs√©ge.</div>
        <div class="day-metrics">üìç 280 km | ‚ñ≤ 4516 m | ‚ñº 4419 m</div>
        <div class="poibtns">
          <a class="btn btn-accent" href="day02/index.html">üìã Lista n√©zet</a>
          <a class="btn btn-blue" href="https://www.google.com/maps/dir/Bruck+an+der+Mur/K√∂nigssee" target="_blank">üó∫Ô∏è Navig√°ci√≥</a>
          <a class="btn btn-calimoto" href="https://calimoto.com/calimotour/sasf√©sz-2.-nap-r-JiCywkqBOs" target="_blank">üèçÔ∏è Calimoto</a>
          <a class="btn btn-download" href="Sasf√©szek 2026 POI pontok gpx/Sasf√©sz 2. nap (1).gpx" download>‚¨áÔ∏è GPX Let√∂lt√©s</a>
        </div>
      </div>
      <div class="poi-right">
        <img src="images/day02/01_praebichl_hago.jpg" alt="Day 02">
      </div>
    </div>

    <div class="poi poi-withimg">
      <div class="poi-left">
        <div class="poi-title">DAY 03 ‚Äì A Sasf√©szek napja</div>
        <div class="coords">K√∂nigssee ‚Üí Hallstatt. Kehlsteinhaus (Sasf√©szek) megl√°togat√°sa √©s pihen≈ë Hallstattban.</div>
        <div class="day-metrics">üìç 81 km | ‚ñ≤ 1964 m | ‚ñº 2043 m</div>
        <div class="poibtns">
          <a class="btn btn-accent" href="day03/index.html">üìã Lista n√©zet</a>
          <a class="btn btn-blue" href="https://www.google.com/maps/dir/K√∂nigssee/Hallstatt" target="_blank">üó∫Ô∏è Navig√°ci√≥</a>
          <a class="btn btn-calimoto" href="https://calimoto.com/calimotour/sasf√©sz-3.-nap-r-DON7nAc9fv" target="_blank">üèçÔ∏è Calimoto</a>
          <a class="btn btn-download" href="Sasf√©szek 2026 POI pontok gpx/Sasf√©sz 3. nap.gpx" download>‚¨áÔ∏è GPX Let√∂lt√©s</a>
        </div>
      </div>
      <div class="poi-right">
        <img src="images/day03/01_kehlsteinhaus_sasfeszek_parkolo.jpg" alt="Day 03">
      </div>
    </div>

    <div class="poi poi-withimg">
      <div class="poi-left">
        <div class="poi-title">DAY 04 ‚Äì Hazat√©r√©s</div>
        <div class="coords">Hallstatt ‚Üí Velence. Hossz√∫ h√°g√≥kkal teli szakasz, b√∫cs√∫ az osztr√°k hegyekt≈ël.</div>
        <div class="day-metrics">üìç 494 km | ‚ñ≤ 4232 m | ‚ñº 4624 m</div>
        <div class="poibtns">
          <a class="btn btn-accent" href="day04/index.html">üìã Lista n√©zet</a>
          <a class="btn btn-blue" href="https://www.google.com/maps/dir/Hallstatt/Velence" target="_blank">üó∫Ô∏è Navig√°ci√≥</a>
          <a class="btn btn-calimoto" href="https://calimoto.com/calimotour/sasf√©sz-4.-nap-r-I3LoYJ2X6o" target="_blank">üèçÔ∏è Calimoto</a>
          <a class="btn btn-download" href="Sasf√©szek 2026 POI pontok gpx/Sasf√©sz 4. nap.gpx" download>‚¨áÔ∏è GPX Let√∂lt√©s</a>
        </div>
      </div>
      <div class="poi-right">
        <img src="images/day04/01_koppen_hago_koppenpass.jpg" alt="Day 04">
      </div>
    </div>
  </div>

  <div class="tourmap-card">
    <h3 style="margin-top:0; color:#ffca28;">T√∫ra F≈ët√©rk√©p</h3>
    <div class="tourmap-wrap">
      <img class="tourmap-img" id="tourmapImg" src="assets/f≈ët√©rk√©p.jpg" alt="Sasf√©szek t√∫ra f≈ët√©rk√©p">
      <div class="tourmap-me" id="tourmapMe" aria-hidden="true"></div>
    </div>
    <div id="gpsNoticeTourMap" style="display:none; font-size: 0.8rem; margin-top:10px; opacity:0.7;">
      Helymeghat√°roz√°s nem el√©rhet≈ë.
    </div>
  </div>
</div>

<script>
(function(){
  "use strict";

  var IMG = document.getElementById("tourmapImg");
  var ME  = document.getElementById("tourmapMe");
  if(!IMG || !ME) return;

  // Biline√°ris pontok a te eredeti sz√°m√≠t√°said alapj√°n
  var BIL_LAT = [48.4872609244604, -0.0002417112619031477, -0.002917508120451087, 0.000000617931650058634];
  var BIL_LON = [12.810311386166, 0.003223225199525508, 0.00007270051175614475, -0.00000009969934476170338];
  var AFF_LAT = [48.34777751743023, -0.0000007680095696837533, -0.002498706613987144];
  var AFF_LON = [12.83281614746863, 0.003184350536963412, 0.000005129550184807137];

  function latlonFromXY(x,y){
    return { 
      lat: BIL_LAT[0] + BIL_LAT[1]*x + BIL_LAT[2]*y + BIL_LAT[3]*x*y, 
      lon: BIL_LON[0] + BIL_LON[1]*x + BIL_LON[2]*y + BIL_LON[3]*x*y 
    };
  }

  function xyFromLatLon(lat,lon){
    var la0=AFF_LAT[0], la1=AFF_LAT[1], la2=AFF_LAT[2];
    var lo0=AFF_LON[0], lo1=AFF_LON[1], lo2=AFF_LON[2];
    var det = la1*lo2 - la2*lo1;
    var x=0, y=0;
    if(Math.abs(det) > 1e-14){
      var v0 = lat - la0, v1 = lon - lo0;
      x = (lo2/det)*v0 + (-la2/det)*v1;
      y = (-lo1/det)*v0 + (la1/det)*v1;
    }
    for(var i=0;i<10;i++){
      var cur = latlonFromXY(x,y);
      var F0 = cur.lat - lat; var F1 = cur.lon - lon;
      if(Math.sqrt(F0*F0 + F1*F1) < 1e-8) break;
      var dlat_dx = BIL_LAT[1] + BIL_LAT[3]*y;
      var dlat_dy = BIL_LAT[2] + BIL_LAT[3]*x;
      var dlon_dx = BIL_LON[1] + BIL_LON[3]*y;
      var dlon_dy = BIL_LON[2] + BIL_LON[3]*x;
      var Jdet = dlat_dx*dlon_dy - dlat_dy*dlon_dx;
      if(Math.abs(Jdet) < 1e-14) break;
      x += (-F0*dlon_dy + F1*dlat_dy) / Jdet;
      y += ( F0*dlon_dx - F1*dlat_dx) / Jdet;
    }
    return {x:x, y:y};
  }

  function placeMe(lat, lon){
    var natW = IMG.naturalWidth;
    var natH = IMG.naturalHeight;
    if(!natW || !natH) return;
    var xy = xyFromLatLon(lat, lon);
    ME.style.left = (xy.x / natW * 100).toFixed(4) + "%";
    ME.style.top  = (xy.y / natH * 100).toFixed(4) + "%";
    ME.style.display = "block";
  }

  function start(){
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(function(p){
        placeMe(p.coords.latitude, p.coords.longitude);
      }, null, { enableHighAccuracy:true });
    }
  }

  if(IMG.complete) start(); else IMG.addEventListener("load", start);
})();
</script>

</body>
</html>
